<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HILMAT PIHALLE</title>
    <script src="http://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.1/stomp.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/sockjs-client/0.3.4/sockjs.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.1.2/nprogress.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.6.0/moment-with-langs.min.js"></script>
    <link type="text/css" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.1.2/nprogress.min.css" />

    <script type="text/javascript" src="./app.js"></script>

    <script type="text/javascript">
		  WebFont.load({
		    google: {
		      families: ['Open Sans', 'Lato']
		    }
		  });
		</script>

    <link rel="stylesheet" type="text/css" href="css/default.css" />
    <link rel="stylesheet" type="text/css" href="css/component.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.1/modernizr.min.js"></script>
</head>
<body>
<div class="container">
    <div class="main">
        <ul class="cbp_tmtimeline" data-bind="foreach: noticeboard().rows">
            <li>
                <time class="cbp_tmtime" datetime="2013-04-10 18:30" data-bind="attr: { datetime: published }">
                    <span data-bind="text: published.format('D.M.')">4/10/13</span>
                    <span data-bind="text: published.format('hh:mm')">18:30</span>
                </time>
                <div class="cbp_tmicon cbp_tmicon-phone"></div>
                <div class="cbp_tmlabel">
                    <h3>
                        <span data-bind="text: organization"></span>:
                        <span data-bind="text: name"></span>
                    </h3>
                    <p data-bind="text: description"></p>
                </div>
            </li>
        </ul>
    </div>
</div>

<script type="text/javascript">
        var socket = new SockJS("/hilma");
        var stompClient = Stomp.over(socket);

        var appModel = new ApplicationModel(stompClient);
        ko.applyBindings(appModel);

        NProgress.start();
        console.log("Starting...");
        appModel.connect();
        NProgress.inc();
        appModel.loadModel();
        NProgress.inc();
        appModel.noticeboard().rows().sort(function(left, right) {
            return left.published == right.published ? 0 : (left.published < right.published ? -1 : 1)
        });
        console.log("Connected");
        NProgress.done();
</script>

</body>
</html>
